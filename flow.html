<!DOCTYPE html>
<meta charset=utf-8>
<title>Flow</title>
<link rel=license href=//creativecommons.org/licenses/by-sa/3.0/>
<link rel=author href=mailto:runrun@runpaint.org>
<link rel=stylesheet href=style>

<!-- http://www.engineyard.com/blog/2010/iteration-shouldnt-spin-your-wheels/
-->
<section>
  <h1>Flow</h1>
  
  <section>
    <h1>Conditionals</h1>

    <p>A <dfn>conditional</dfn> is an expression evaluated as a truthbearer.
    The conditional is <dfn title="false conditional">false</dfn> if the
    expression’s value is <code>nil</code> or <code>false</code>; otherwise it
    is <dfn title="true conditional">true</dfn>.</p>

    <figure id=conditional-true>
      <!-- FIXME: Use if statement in example to show the conditionals’ truth
      -->
      <figcaption>Conditionals that are true
    </figure>

    <figure id=conditional-false>
      <!-- FIXME: Use unless statement in example to show the conditionals’
      falsity -->
      <figcaption>Conditionals that are false
    </figure>
  </section>

  <section>
    <h1>Branching</h1>
    
    <p><dfn>Branching statements</dfn> predicate the execution of block on a
    conditional. For example, an <code>if</code> statement executes its
    associated code block iff its conditional is true. Each code block of an
    branching statement is termed a <dfn>branch</dfn>, to describe the effect
    of the statement on program execution.</p>

    <section>
      <h1>The <code>if</code> Statement</h1>
      
      <figure class=railroad>
        <img id=if-statement>
        <figcaption>Syntax diagram of <code>if</code> statement
      </figure>

      <p>The <code>if</code> statement comprises a conditional, zero or more
      statements (the branch), then, optionally, additional branches whose
      forms are explained subsequently. The branch is executed iff the
      conditional is true.</p>

      <figure id=if-statement-simple>
        <figcaption>The simple form of the <code>if</code> statement
      </figure>

      <p>The return value of an <code>if</code> statement is that of the
      executed branch, or <code>nil</code> if no branch was executed.</p>

      <section>
        <h1 id=postfix-if>Postfix <code>if</code></h1>

        <figure class=railroad>
          <img id=postfix-if-statement>
          <figcaption>Syntax diagram of the postfix <code>if</code> statement
        </figure>

        <p>A postfix <code>if</code> statement is a concise alternative when
        the branch consists of a sole statement. It comprises an
        expression, the <code>if</code> keyword, then a conditional. The
        expression is executed iff the conditional is true.</p>
        
        <figure id=postfix-if-statement>
          <figcaption>The postfix <code>if</code> statement executes its
          left-hand side if its right-hand side is true
        </figure>

        <p>This syntax, as opposed to <code>if <var>conditional</var>…</code>,
        foregrounds the expression. This is of stylistic benefit if the
        conditional is normally true because it highlights the default
        case.</p>
      </section>

      <section>
        <h1>The <code>else</code> Clause</h1>

        <figure class=railroad>
          <img id=else-clause>
          <img id=if-statement>
          <figcaption>Syntax diagram of <code>if</code> statement with an
          <code>else</code> branch
        </figure>

        <p>Prior to an <code>if</code> statement’s <code>end</code> keyword an
        <code>else</code> branch may appear. It is executed iff no preceding
        branch was executed, serving as the default branch.</p>

        <figure id=if-statement-with-else-clause>
          <figcaption>An <code>if</code> statement can contain an
          <code>else</code> clause, which is executed iff no other branch was
          executed.
        </figure>
      </section>

      <section>
        <h1>The <code>elsif</code> Clause</h1>

        <figure class=railroad>
          <img id=elsif-clause>
          <img id=if-statement>
          <figcaption>Syntax diagram of <code>if</code> statement with an
          <code>elsif</code> branch
        </figure>

        <p>An <code>if</code> statement may contain any number of
        <code>elsif</code> branches between the <code>if</code> branch and
        before the <code>else</code> branch, if present. To execute they
        require all prior conditionals to be false and their conditional to be
        true.</p>

        <figure id=if-statement-with-elsif-and-else-clause>
          <figcaption>Using an <code>if</code> statement with
          <code>elsif</code> and <code>else</code> branches to compute the
          Möbius function
        </figure>

      </section>
    </section>


    <section>
      <h1>The <code>unless</code> Statement</h1>

      <figure class=railroad>
        <img id=else-clause>
        <img id=unless-statement>
        <figcaption>Syntax diagram of <code>unless</code> statement
      </figure>

      <p>The <code>unless</code> statement executes its branch iff its
      conditional is false. It may be followed by an <code>else</code> branch,
      which executes iff the <code>unless</code> conditional is true.
      <code>elsif</code> clauses are prohibited.</p>

      <section>
        <h1>Postfix Form</h1>
        
        <figure class=railroad>
          <img id=postfix-unless-statement>
          <figcaption>Syntax diagram of the postfix <code>unless</code>
          statement
        </figure>

        <p>The postfix form of the <code>unless</code> statement behaves as
        the postfix <code>if</code> statement, except the expression is
        executed iff the conditional is false.</p>
      </section>
    </section>
  </section>

  <section>
    <h1>Boolean Logic</h1>
    
    <p>The Boolean logic operators return either <code>true</code> or
    <code>false</code> by evaluating their operands as conditionals. For this
    reason, Boolean expressions are often themselves used as conditionals.

    <p>There are two forms of each Boolean operator—keyword (e.g.
    <code>and</code>) and  punctuation (e.g. <code>&amp;&amp;</code>)—which
    differ only in precedence. The former have low precedence; the latter
    high.</p>

    <section>
      <h1>The AND Operator</h1>
      
      <figure class=railroad>
        <img id=boolean-and-operator>
        <figcaption>Syntax diagram of the Boolean AND operator
      </figure>

      <p>The binary <code>and</code>/<code>&amp;&amp;</code> operators return
      <code>true</code> iff both operands are true. They perform short-circuit
      evaluation, so will only evaluate the second operand if the first is
      true.</p>
    </section>

    <section>
      <h1>The OR Operator</h1>

      <figure class=railroad>
        <img id=boolean-or-operator>
        <figcaption>Syntax diagram of the Boolean OR operator
      </figure>

      <p>The binary <code>or</code>/<code>||</code> operators return
      <code>true</code> iff at least one operand is true. They perform
      short-circuit evaluation, so will only evaluate the second operand if
      the first is false.</p>
    </section>

    <section>
      <h1>The NOT Operator</h1>

      <figure class=railroad>
        <img id=boolean-not-operator>
        <figcaption>Syntax diagram of the Boolean NOT operator
      </figure>

      <p>The unary <code>not</code>/<code>!</code> operators return
      <code>true</code> iff the operand is false.</p>
    </section>

    <section>
      <h1>The Ternary Operator</h1>

      <figure class=railroad>
        <img id=ternary-operator>
        <figcaption>Syntax diagram of the ternary operator
      </figure>

      <p>The ternary operator is a concise alternative to <code>if
        <var>conditional</var>…else…</code> when the conditional and branches
      are simple. It consists of three operands, the first of which is the
      conditional. If the conditional is true, the second expression is
      evaluated; otherwise the third expression is evaluated.</p>

      <figure id=ternary-operator-on-single-line>
        <figcaption>The ternary operator is a compact two-way branching
        construct
      </figure>
    </section>
  </section>

  <section>
    <h1>Looping</h1>
    
    <section>
      <h1>Infinite Loops: <code>loop</code></h1>
    </section>

    <section>
      <h1>Looping <var>n</var> Times</h1>
      <!-- for loops are unnecessary -->
      <section>
        <h1><code>Integer#times</code></h1>
      </section>

      <section>
        <h1><code>Integer#upto</code></h1>
      </section>

      <section>
        <h1><code>Integer#downto</code></h1>
      </section>
    </section>

    <section>
      <h1>Looping <code>while</code> a Condition is True</h1>
    </section>

    <section>
      <h1>Looping <code>until</code> a Condition is True</h1>
    </section>

    <section>
      <h1>Looping <code>unless</code> a Condition is True</h1>
    </section>

    <section>
      <h1>Iterating Over a Collection</h1>

      <section>
        <h1><code>each</code></h1>
      </section>

      <section>
        <h1><code>for</code></h1>
      </section>
    </section>

    <section>
      <h1>Exceptions</h1>
    </section>
    
    <section>
      <h1><code>BEGIN</code> / <code>END</code></h1>
    </section>
  </section>
</section>
