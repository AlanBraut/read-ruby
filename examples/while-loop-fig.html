<a href=/examples/while-loop-fig.rb><pre class=syntax><code><span class="k">def</span> <span class="nf">farey</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
  <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="n">n</span>
  <span class="k">while</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="n">n</span>
    <span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">/</span><span class="n">d</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">k</span><span class="o">*</span><span class="n">c</span> <span class="o">-</span> <span class="n">a</span><span class="p">,</span> <span class="n">k</span><span class="o">*</span><span class="n">d</span> <span class="o">-</span> <span class="n">b</span>
    <span class="p">(</span><span class="n">sequence</span> <span class="o">||=</span> <span class="o">[]</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="no">Rational</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="n">sequence</span><span class="o">.</span><span class="n">unshift</span> <span class="no">Rational</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">farey</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1">#=&gt; [(0/1), (1/4), (1/3), (1/2), (2/3), (3/4), (1/1)]</span>
</code></pre>
</a>