<a href=/examples/closure-example.rb><pre class=syntax><code><span class="n">variable</span> <span class="o">=</span> <span class="ss">:first</span>
<span class="c1"># Use a lambda literal to create a closure </span>
<span class="c1"># whose function is the block and environment </span>
<span class="c1"># includes  _variable_. Assign the closure </span>
<span class="c1"># to a variable.</span>
<span class="n">closure</span> <span class="o">=</span> <span class="o">-&gt;</span><span class="p">{</span> <span class="s2">&quot;variable = </span><span class="si">#{</span><span class="n">variable</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">}</span>
<span class="c1"># Invoke the closure, using the value </span>
<span class="c1"># of _variable_ from its environment</span>
<span class="n">closure</span><span class="o">.</span><span class="n">call</span> <span class="c1">#=&gt; &quot;variable = first&quot;</span>
<span class="c1"># Assign a different value to a variable </span>
<span class="c1"># in the closureâ€™s environment</span>
<span class="n">variable</span> <span class="o">=</span> <span class="ss">:second</span>
<span class="c1"># Re-invoke the closure in the context </span>
<span class="c1"># of its current environment, where the </span>
<span class="c1"># value of _variable_ is :second  </span>
<span class="n">closure</span><span class="o">.</span><span class="n">call</span> <span class="c1">#=&gt; &quot;variable = second&quot;</span>
</code></pre>
</a>