<a href=/examples/aref-music.rb><pre class=syntax><code><span class="n">formats</span> <span class="o">=</span> <span class="sx">%w{MP3 CD Cassette 8-Track Record}</span>

<span class="k">def</span> <span class="nf">i_buy</span><span class="p">(</span><span class="nb">format</span><span class="p">)</span>
  <span class="s2">&quot;I buy my music on </span><span class="si">#{</span><span class="nb">format</span><span class="o">.</span><span class="n">downcase</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">end</span>

<span class="c1"># Array#[] is given an Integer subscript, which in this case</span>
<span class="c1"># returns the third element: &#39;Cassette&#39;. The Method object is then</span>
<span class="c1"># indexed by &#39;Cassette&#39;, which sends Object the :i_buy message with</span>
<span class="c1"># &#39;Cassette&#39; as an argument. </span>
<span class="nb">method</span><span class="p">(</span><span class="ss">:i_buy</span><span class="p">)</span><span class="o">[</span> <span class="n">formats</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">]</span> <span class="c1">#=&gt; &quot;I buy my music on cassette&quot;</span>

<span class="c1"># This time we index the same Array with a Range, which returns an</span>
<span class="c1"># Array comprising the last two elements of the receiver. We</span>
<span class="c1"># concatenate these elements to produce a String &quot;8-Track or Record&quot;,</span>
<span class="c1"># with which we index the Method object, as before.</span>
<span class="nb">method</span><span class="p">(</span><span class="ss">:i_buy</span><span class="p">)</span><span class="o">[</span> <span class="n">formats</span><span class="o">[-</span><span class="mi">2</span><span class="o">.</span><span class="n">.</span><span class="o">-</span><span class="mi">1</span><span class="o">].</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39; or &#39;</span> <span class="p">)</span> <span class="o">]</span> <span class="c1">#=&gt; &quot;I buy my music on 8-track or record&quot;</span>
</code></pre>
</a>