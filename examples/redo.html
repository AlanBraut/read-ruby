<a href=/examples/redo.rb><pre class=syntax><code><span class="kp">loop</span> <span class="k">do</span>
  <span class="nb">puts</span> <span class="s2">&quot;Password: &quot;</span>
  <span class="n">password</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
  <span class="k">unless</span> <span class="o">[/</span><span class="p">\</span><span class="n">d</span><span class="o">/</span><span class="p">,</span><span class="sr"> /[A-Z]/</span><span class="p">,</span><span class="sr"> /[a-z]/</span><span class="o">].</span><span class="n">all?</span><span class="p">{</span><span class="o">|</span><span class="n">pat</span><span class="o">|</span> <span class="n">pat</span> <span class="o">=~</span> <span class="n">password</span><span class="p">}</span>
    <span class="vg">$stderr</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;Passwords must contain uppercase, lowercase, and digits&quot;</span>
    <span class="k">redo</span>
  <span class="k">end</span>
  <span class="k">unless</span> <span class="n">password</span><span class="o">.</span><span class="n">size</span> <span class="o">&gt;</span> <span class="mi">8</span>
    <span class="vg">$stderr</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;Passwords must be at least 9 characters long&quot;</span>
    <span class="k">redo</span>
  <span class="k">end</span>
  <span class="nb">puts</span> <span class="s2">&quot;Thanks. Confirm password: &quot;</span>
  <span class="k">unless</span> <span class="n">password</span> <span class="o">==</span> <span class="nb">gets</span><span class="o">.</span><span class="n">chomp</span>
    <span class="vg">$stderr</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;The passwords entered do not match!&quot;</span>
    <span class="k">redo</span>
  <span class="k">end</span>
  <span class="k">break</span>
<span class="k">end</span>
</code></pre>
</a>