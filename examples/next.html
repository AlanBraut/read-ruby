<a href=/examples/next.rb><pre class=syntax><code><span class="n">ips</span> <span class="o">=</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span><span class="o">|</span><span class="n">h</span><span class="p">,</span><span class="n">k</span><span class="o">|</span> <span class="n">h</span><span class="o">[</span><span class="n">k</span><span class="o">]</span> <span class="o">=</span> <span class="o">[]</span><span class="p">}</span>
<span class="no">IO</span><span class="o">.</span><span class="n">foreach</span><span class="p">(</span><span class="s1">&#39;/etc/hosts&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">line</span><span class="o">|</span>
  <span class="k">next</span> <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">start_with?</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">)</span>
  <span class="n">ip</span><span class="p">,</span> <span class="o">*</span><span class="n">hosts</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span>
  <span class="n">ips</span><span class="o">[</span><span class="n">ip</span><span class="o">]</span> <span class="o">+=</span> <span class="n">hosts</span>
<span class="k">end</span>
<span class="n">ips</span> <span class="c1">#=&gt; {&quot;127.0.0.1&quot;=&gt;[&quot;localhost&quot;], &quot;127.0.1.1&quot;=&gt;[&quot;paint&quot;, &quot;read-ruby&quot;],</span>
    <span class="c1">#    &quot;::1&quot;=&gt;[&quot;localhost&quot;]} #...</span>
</code></pre>
</a>