<a href=/examples/lambda-keyword-examples.rb><pre class=syntax><code><span class="k">def</span> <span class="nf">intermittently</span> <span class="n">wait</span><span class="p">,</span> <span class="n">closure</span>
  <span class="kp">loop</span> <span class="p">{</span> <span class="nb">sleep</span><span class="p">(</span><span class="n">wait</span><span class="o">.</span><span class="n">call</span><span class="p">)</span> <span class="ow">and</span> <span class="n">rv</span> <span class="o">=</span> <span class="n">closure</span><span class="o">[</span><span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">]</span> <span class="ow">and</span> <span class="k">return</span> <span class="n">rv</span> <span class="p">}</span>
<span class="k">end</span>
<span class="nb">require</span> <span class="s1">&#39;prime&#39;</span>
<span class="n">prime_time</span> <span class="o">=</span> <span class="nb">lambda</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span> 
  <span class="n">t</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%T:%6N&quot;</span><span class="p">)</span> <span class="k">if</span> <span class="o">[</span><span class="n">t</span><span class="o">.</span><span class="n">hour</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">min</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">sec</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">usec</span><span class="o">].</span><span class="n">all?</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:prime?</span><span class="p">)</span>
<span class="k">end</span>
<span class="n">intermittently</span> <span class="nb">lambda</span> <span class="p">{</span> <span class="no">Random</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">3</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span> <span class="p">},</span> <span class="n">prime_time</span> <span class="c1">#=&gt; &quot;11:29:47:435997&quot;</span>
</code></pre>
</a>